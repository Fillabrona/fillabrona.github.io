<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz for Survival - Latest Download & Info</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Load Font Awesome Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" crossorigin="anonymous" referrerpolicy="no-referrer" />
    
    <!-- Custom Tailwind Configuration for Colors -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        // Background: #2b333e
                        'main-bg': '#2b333e',
                        // Links: #02d8e9
                        'link-primary': '#02d8e9',
                        // Buttons: #00A1A1
                        'button-primary': '#00A1A1',
                    },
                    fontFamily: {
                        'serif': ['"Times New Roman"', 'Times', 'serif'],
                    }
                }
            }
        }
    </script>
    <!-- Custom Styles for Font and Global Background -->
    <style>
        body {
            background-color: #2b333e; /* Explicit background color */
            font-family: 'Times New Roman', Times, serif; /* Explicit font application */
            color: white; /* Explicit text color */
        }
        /* Custom scrollbar for better aesthetics */
        body::-webkit-scrollbar {
            width: 8px;
        }
        body::-webkit-scrollbar-thumb {
            background-color: #00A1A1;
            border-radius: 4px;
        }
    </style>
</head>
<body class="min-h-screen p-4 sm:p-8">

    <div class="max-w-4xl mx-auto space-y-10">

        <!-- Header and Title -->
        <header class="text-center pt-8 pb-4">
            <h1 class="text-5xl sm:text-7xl font-bold tracking-tight text-link-primary mb-2">
                <i class="fas fa-brain mr-3"></i>Quiz for Survival
            </h1>
            <p class="text-xl text-white/80">The latest official release and future development details.</p>
        </header>

        <!-- Main Information Card -->
        <div id="main-info-card" class="bg-main-bg border border-white/20 p-6 sm:p-8 rounded-xl shadow-2xl space-y-6">
            <h2 class="text-3xl font-semibold text-link-primary border-b border-link-primary/50 pb-3 mb-4">
                <i class="fas fa-info-circle mr-2"></i> Latest Update Information
            </h2>
            
            <!-- Latest Version/Content Section -->
            <div id="latest-version-content">
                <p class="text-white/70 italic" id="version-placeholder">
                    <i class="fas fa-spinner fa-spin mr-2"></i> Loading latest version details...
                </p>
            </div>

            <!-- Download Button Section -->
            <div class="pt-4 flex flex-col sm:flex-row items-center justify-center space-y-4 sm:space-y-0 sm:space-x-4">
                <a id="download-button" href="#" target="_blank"
                   class="w-full sm:w-auto px-10 py-4 text-lg font-bold text-white uppercase transition duration-300 transform bg-button-primary rounded-xl shadow-lg hover:shadow-2xl hover:bg-opacity-90 active:scale-95 disabled:opacity-50"
                   onclick="this.classList.add('disabled')">
                    <i class="fas fa-download mr-2"></i> Download Latest Version
                </a>
                
                <!-- Update Log Link -->
                <a href="https://docs.google.com/document/d/11sxU4b9yxqJY74rFXaz1YaIQF85cnPe7SX3nzGZJ7Zk/edit?tab=t.0" target="_blank"
                   class="w-full sm:w-auto px-6 py-4 text-center text-link-primary hover:text-white transition duration-200 border border-link-primary/50 rounded-xl hover:bg-link-primary/10">
                    <i class="fas fa-file-alt mr-2"></i> View Update Log & Info
                </a>
            </div>
        </div>

        <!-- What's Next Section -->
        <div class="bg-main-bg border border-white/20 p-6 sm:p-8 rounded-xl shadow-2xl space-y-6">
            <h2 class="text-3xl font-semibold text-link-primary border-b border-link-primary/50 pb-3 mb-4">
                <i class="fas fa-forward mr-2"></i> What's Next? (Roadmap)
            </h2>
            <div id="whats-next-content">
                <p class="text-white/70 italic" id="roadmap-placeholder">
                    <i class="fas fa-spinner fa-spin mr-2"></i> Loading future plans...
                </p>
            </div>
        </div>
    </div>

    <!-- JavaScript for Data Fetching -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const URLS = {
                downloadLink: 'https://pastebin.com/raw/H2uSsdZe',
                versionInfo: 'https://pastebin.com/raw/9VidjcAt',
                whatsNext: 'https://pastebin.com/raw/zr4RpvkW'
            };

            const downloadButton = document.getElementById('download-button');
            const versionContentDiv = document.getElementById('latest-version-content');
            const whatsNextDiv = document.getElementById('whats-next-content');

            /**
             * Fetches raw text content from a URL and updates the specified DOM element.
             * @param {string} url The raw pastebin URL.
             * @param {HTMLElement} targetElement The element to update with the fetched content.
             * @param {string} fallbackText The text to show on failure.
             * @returns {Promise<string>} The fetched text content.
             */
            const fetchTextContent = async (url, targetElement, fallbackText) => {
                try {
                    const response = await fetch(url);
                    if (!response.ok) {
                        throw new Error(`HTTP error! status: ${response.status}`);
                    }
                    const text = await response.text();
                    
                    // Format the content. Replace newlines with <br> for simple formatting.
                    const formattedContent = text.trim().replace(/\n/g, '<br>');
                    
                    if (targetElement) {
                         // Update target element's content
                         targetElement.innerHTML = `<p class="whitespace-pre-wrap">${formattedContent}</p>`;
                    }
                    return text.trim();
                } catch (error) {
                    console.error(`Error fetching data from ${url}:`, error);
                    if (targetElement) {
                        targetElement.innerHTML = `<p class="text-red-400"><i class="fas fa-exclamation-triangle mr-2"></i> Failed to load data. ${fallbackText}</p>`;
                    }
                    return null;
                }
            };

            // 1. Fetch Latest Version/Content Info
            fetchTextContent(URLS.versionInfo, versionContentDiv, "Please check the update log for details.").then(() => {
                // Remove placeholder after success or failure
                document.getElementById('version-placeholder')?.remove();
            });

            // 2. Fetch What's Next (Roadmap)
            fetchTextContent(URLS.whatsNext, whatsNextDiv, "The development roadmap is currently unavailable.").then(() => {
                 // Remove placeholder after success or failure
                document.getElementById('roadmap-placeholder')?.remove();
            });

            // 3. Fetch Download Link (Special Handling)
            fetchTextContent(URLS.downloadLink, null, "Download link is unavailable.").then(link => {
                if (link && downloadButton) {
                    downloadButton.href = link;
                    downloadButton.classList.remove('disabled');
                    downloadButton.innerHTML = '<i class="fas fa-download mr-2"></i> Download Latest Version';
                } else if (downloadButton) {
                    downloadButton.href = "#";
                    downloadButton.classList.add('opacity-50', 'cursor-not-allowed');
                    downloadButton.setAttribute('disabled', 'true');
                    downloadButton.innerHTML = '<i class="fas fa-times-circle mr-2"></i> Link Error';
                }
            });
        });
    </script>

</body>
</html>
